### Phone Book 1.0

Приложение тип телефонен указател съдържащо списък с контакти е представено на Фиг. 24. Изходния код от дизайна на потребителския интерфейс \(XAML\) и бизнес логиката \(C\#\) на приложението са дадени в програмните фрагменти по-долу.

**Contact.cs**

```
// Model
public class Contact
{
 public Uri picture { get; set; }
 public String name { get; set; }
 public String phone { get; set; }
 // Constructor
 public Contact(Uri _picture, String _name, String _phone)
 {
 this.picture = _picture;
 this.name = _name;
 this.phone = _phone;
 }
}
```

**App.xaml.cs**

```
// Model
public static ObservableCollection<Contact> people = new ObservableCollection<Contact>();
```

**AddPage.xaml**

```
<!-- XAML -->
<StackPanel Background="Pink" Padding="20">
<TextBlock Text="Add Contact" FontSize="42" />
<TextBlock Text="picture" FontSize="24" />
<TextBox Name="picture" />
<TextBlock Text="name" FontSize="24" />
<TextBox Name="name" />
<TextBlock Text="phone" FontSize="24" />
<TextBox Name="phone" />
<Button Content="Add" Click="Button_Click" />
</StackPanel>
```

**AddPage.xaml.cs**

```
// Button Event Handler
private void Button_Click(object sender, RoutedEventArgs e)
{
 var contact = new Contact(new Uri(picture.Text),name.Text,phone.Text);
 this.Frame.Navigate(typeof(MainPage), contact);
}
```

**MainPage.xaml**

```
<StackPanel Background="Pink" Padding="20">
<TextBlock Text="PhoneBook 1.0" FontSize="42" />
<ListBox Name="ListBoxPeople" Height="320">
<ListBox.ItemTemplate>
<DataTemplate>
<StackPanel Orientation="Horizontal">
<Image Source="{Binding picture}" Width="100" Height="100" />
<StackPanel>
<TextBlock Text="{Binding name}" FontSize="32" />
<TextBlock Text="{Binding phone}" FontSize="32" />
</StackPanel>
</StackPanel>
</DataTemplate>
</ListBox.ItemTemplate>
</ListBox>
<Button Content="Add Contact" Click="Button_Click" />
</StackPanel>
```

**MainPage.xaml.cs**

```
// Constructor
public MainPage()
{
 this.InitializeComponent();
 ListBoxPeople.ItemsSource = App.people;
}
// Button Event Handler
private void Button_Click(object sender, RoutedEventArgs e)
{
 this.Frame.Navigate(typeof(AddPage));
}
// Navigate
protected override void OnNavigatedTo(NavigationEventArgs e)
{
 if (e.Parameter is Contact)
 App.people.Add(e.Parameter as Contact);
}
```

![](/chapter1/24.png)

_Фиг. 24. Приложение тип телефонен указател съдържащо списък с контакти_

