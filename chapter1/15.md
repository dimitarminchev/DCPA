### Clicker Mania 2.0

Приложение отчитащо броя кликове на потребителя за определено време е представено на Фиг. 26. Изходния код от дизайна на потребителския интерфейс \(XAML\) и бизнес логиката \(C\#\) на приложението са дадени в програмните фрагменти по-долу.

**MainPage.xaml**

```
<StackPanel Background="Lime" Padding="30">
<TextBlock FontSize="30" Padding="10" HorizontalAlignment="Center" Text="Clicker Mania 2.0" FontWeight="ExtraBlack" />
<TextBlock Text="Timer" FontSize="23" HorizontalAlignment="Center" />
<TextBlock Name="Timer" Foreground="White" Text="0" FontSize="60" HorizontalAlignment="Center" FontWeight="ExtraBlack" />
<TextBlock Text="Clicks" FontSize="23" HorizontalAlignment="Center" />
<TextBlock Name="Clicks" Foreground="White" Text="0" FontSize="60" HorizontalAlignment="Center" FontWeight="ExtraBlack" />
<TextBlock Text="Clicks Per Minute" FontSize="23" HorizontalAlignment="Center" />
<TextBlock Name="CPM" Foreground="White" Text="0" FontSize="60" HorizontalAlignment="Center" FontWeight="ExtraBlack" />
<Button Content="Click" Padding="50 10 50 10" HorizontalAlignment="Center" FontSize="32" Click="Button_Click" />
</StackPanel>
```

**MainPage.xaml.cs**

```
// Dispacher Timer
private DispatcherTimer timer = new DispatcherTimer();

// Constructor
public MainPage()
{
 this.InitializeComponent();
 // Timer
 timer.Interval = new TimeSpan(0, 0, 1);
 timer.Tick += Timer_Tick;
 timer.Start();
}

// Timer Event Handler
private void Timer_Tick(object sender, object e)
{
 int T = int.Parse(Timer.Text);
 Timer.Text = (++T).ToString();
 // clicks Per Minute
 CPM.Text = (float.Parse(Clicks.Text) / float.Parse(Timer.Text) * 60).ToString("N2");
}

// Button Event Handler
private void Button_Click(object sender, RoutedEventArgs e)
{
 int N = int.Parse(Clicks.Text);
 Clicks.Text = (++N).ToString();
}
```

![](/chapter1/26.png)

_Фиг.26 Приложение отчитащо броя кликове на потребителя за определено време_

