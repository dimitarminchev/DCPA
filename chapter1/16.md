### HTML Downloader 1.0

Приложение за изтегляне HTML съдържанието на кода от Интернет страница е представено на Фиг. 27. Изходния код от дизайна на потребителския интерфейс \(XAML\) и бизнес логиката \(C\#\) на приложението са дадени в програмните фрагменти по-долу.

**NuGet Package Manager Console**

```
PM> Install-Package AngleSharp -Version 0.9.9
```

**MainPage.xaml**

```
<StackPanel Background="Yellow" Padding="20">
<TextBlock Text="HTML Downloader 1.0" FontSize="32" />
<TextBlock Text="URL" />
<TextBox Name="URL" Text="http://www.minchev.eu" />
<Button Content="Download" Margin="0 10 0 10" Click="Button_Click" />
<TextBox Name="HTML" Height="400" TextWrapping="Wrap" IsReadOnly="True" />
</StackPanel>
```

**MainPage.xaml.cs**

```
// Button Event Handler
private async void Button_Click(object sender, RoutedEventArgs e)
{
 string html = await Go(new Uri(URL.Text));
 var temp = new HtmlParser().Parse(html);
 string text = temp.Body.TextContent;
 HTML.Text = text;
}

// Get the HTML
private async Task<string> Go(Uri link)
{
 HttpClient client = new HttpClient();
 return await client.GetStringAsync(link);
}
```

![](/chapter1/27.png)

_Фиг.27 Приложение за изтегляне HTML съдържанието на кода от Интернет страница_

