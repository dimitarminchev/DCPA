### HTML Downloader 2.0

Екран от интегрираната среда за разработка Microsoft Visual Studio по време на разработката на мулти-платформено мобилно приложение за изтегляне HTML съдържанието на кода от Интернет страница е представен на Фиг. 42, а на Фиг. 43 е представено тестване на приложението използвайки Android Emulator 7.1 \(API 25\). Изходния код от дизайна на потребителския интерфейс \(XAML\) и бизнес логиката \(C\#\) на приложението са дадени в програмните фрагменти по-долу.

**NuGet Package Manager Console**

```
PM> Install-Package AngleSharp -Version 0.9.9
```

**MainPage.xaml**

```
<StackLayout Padding="20">
<Label Text="HTML Downloader 2.0" FontSize="Medium" />
<Entry x:Name="URL" Text="http://www.minchev.eu" />
<Button Text="Download" Clicked="OnButtonClicked" />
<ScrollView><Label x:Name="HTML" /></ScrollView>
</StackLayout>
MainPage.xaml.cs
// Button Click Event Handler
private async void OnButtonClicked(object sender, EventArgs args)
{
 // Get Html
 string html = await Go(new Uri(URL.Text));

 // Angle Sharp Parsing
 var temp = new HtmlParser().Parse(html);
 string text = temp.Body.TextContent;

 // Plain Text
 HTML.Text =text;
}

// Get the HTML
private async Task<string> Go(Uri link)
{
 HttpClient client = new HttpClient();
 return await client.GetStringAsync(link);
}
```

![](/chapter2/42.png)

_Фиг.42 Разработка на мултиплатформено мобилно приложение за изтегляне HTML съдържанието на кода от Интернет страница_

![](/chapter2/43.png)

_Фиг.43 Тестване на мултиплатформено мобилно приложение за изтегляне HTML съдържанието на кода от Интернет страница - Android Emulator 7.1 \(API 25\)_

